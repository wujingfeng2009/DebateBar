<template name="commentThread">
    {{#with parentPost}} {{> postItem}} {{/with}}
    {{#if oneColumnMode}}
        <div class="comments">
            {{#each com in commentList}}
                {{> commentItem (commentArgs com 'none' true)}}
            {{/each}}
            {{#if needCommentChainSubmit 1}}
                {{> commentChainSubmit chainCom=chainComment sameside=false }}
            {{/if}}
        </div>
    {{else}}
        <div class="mainContext">
            <div class="comments leftContext">
                {{#each com in commentList}}
                    {{> commentItem (commentArgs com 'left' true)}}
                {{/each}}
                {{#if needCommentChainSubmit 0}}
                    {{> commentChainSubmit chainCom=chainComment sameside=false }}
                {{/if}}
            </div>
            <div class="comments rightContext">
                {{#each com in commentList}}
                    {{> commentItem (commentArgs com 'right' true)}}
                {{/each}}
                {{#if needCommentChainSubmit 1}}
                    {{> commentChainSubmit chainCom=chainComment sameside=false }}
                {{/if}}
            </div>
        </div>
    {{/if}}
</template>